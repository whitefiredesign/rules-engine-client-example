(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{11:function(e,t,a){e.exports=a(19)},16:function(e,t,a){},17:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(3),i=a.n(c),r=(a(16),a(17),a(8)),s=a(4),o=a(1),u=a.n(o),m=a(5),h=a(6),d=a(9),b=a(7),p=a(10),f="https://f6gwvurnnb.execute-api.eu-west-2.amazonaws.com/dev/rules/",v=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(c)))).state={title:"",thumbnail:"",body:"",titleCheck:!1,thumbnailCheck:!1,bodyCheck:!1},a.setImagePreview=function(e){var t;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:(t=new FileReader).onload=function(e){document.getElementById("thumbnail-preview").src=e.target.result},t.readAsDataURL(e);case 3:case"end":return a.stop()}}))},a.handleUpdate=function(e){"thumbnail"===e.target.id&&a.setImagePreview(e.target.files[0]),a.setState(Object(s.a)({},e.target.id,e.target.value))},a.getData=function(){var e,t,n,l,c,i,s,o,m,h,d,b,p;return u.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:e=a.state,t=e.title,n=e.body,c=[],(l={title:{},thumbnail:{},body:{}}).title.charcount=t.length,(i=new Image).onload=function(){l.thumbnail.width=i.width,l.thumbnail.height=i.height},i.src=document.getElementById("thumbnail-preview").src,l.body.charcount=n.length,s=0,o=Object.entries(l);case 9:if(!(s<o.length)){v.next=25;break}return m=o[s],h=Object(r.a)(m,2),d=h[0],b=h[1],v.next=16,u.a.awrap(fetch(f+"navbox/"+d,{method:"post",body:JSON.stringify(b),headers:{Accept:"application/json","Content-Type":"application/json"}}));case 16:return p=v.sent,v.t0=c,v.next=20,u.a.awrap(p.json());case 20:v.t1=v.sent,v.t0.push.call(v.t0,v.t1);case 22:s++,v.next=9;break;case 25:return v.abrupt("return",c);case 26:case"end":return v.stop()}}))},a.processAudit=function(){var e,t,n;return u.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e=function(e,t,a,n){return l.a.createElement("div",null,t?l.a.createElement("div",{className:"loader"}):"","Checking ",e,"...",a?l.a.createElement("span",{className:"pass"},"\u2713"):l.a.createElement("span",{className:"fail"},"\u2715"),l.a.createElement("div",{className:"message"},n))},a.setState({titleCheck:e("title",!0),thumbnailCheck:e("thumbnail",!0),bodyCheck:e("body",!0)}),c.next=4,u.a.awrap(a.getData());case 4:for(t=c.sent,n=0;n<t.length;n++)t[n].pass?("title"===t[n].payload.field&&a.setState({titleCheck:e("title",!1,!0)}),"thumbnail"===t[n].payload.field&&a.setState({thumbnailCheck:e("thumbnail",!1,!0)}),"body"===t[n].payload.field&&a.setState({bodyCheck:e("body",!1,!0)})):("title"===t[n].payload.field&&a.setState({titleCheck:e("title",!1,!1,t[n].message)}),"thumbnail"===t[n].payload.field&&a.setState({thumbnailCheck:e("thumbnail",!1,!1,t[n].message)}),"body"===t[n].payload.field&&a.setState({bodyCheck:e("body",!1,!1,t[n].message)}));case 6:case"end":return c.stop()}}))},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.title,n=t.thumbnail,c=t.body,i=t.titleCheck,r=t.thumbnailCheck,s=t.bodyCheck;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null,"Fill in the form below to populate the NavBox"),l.a.createElement("hr",null),l.a.createElement("div",{className:"form"},l.a.createElement("label",{htmlFor:"title"},"Title"),l.a.createElement("input",{id:"title",type:"text",onChange:function(t){return e.handleUpdate(t)},value:a}),l.a.createElement("label",{htmlFor:"thumbnail"},"Thumbnail"),l.a.createElement("input",{id:"thumbnail",type:"file",onChange:function(t){return e.handleUpdate(t)},value:n}),l.a.createElement("label",{htmlFor:"body"},"Body"),l.a.createElement("textarea",{id:"body",onChange:function(t){return e.handleUpdate(t)},value:c}),l.a.createElement("button",{onClick:this.processAudit},"Process audit"),i,r,s),l.a.createElement("h3",null,"NavBox"),l.a.createElement("hr",null),l.a.createElement("div",{className:"navbox"},l.a.createElement("div",{className:"navbox-title"},a,l.a.createElement("div",{className:"field-helper"},"Title")),l.a.createElement("div",{className:"navbox-thumbnail"},l.a.createElement("img",{id:"thumbnail-preview",src:"//placehold.it/300/200",alt:""}),l.a.createElement("div",{className:"field-helper"},"Thumbnail")),l.a.createElement("div",{className:"navbox-body"},c,l.a.createElement("div",{className:"field-helper"},"Body")),l.a.createElement("div",{className:"navbox-actions"},l.a.createElement("button",null,"CLICK OR TAP HERE"))))}}]),t}(n.Component);var y=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(v,null))};i.a.render(l.a.createElement(y,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.bca85299.chunk.js.map